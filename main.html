<!doctype html>
<html lang="en" class="h-100">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Chetan Amarao">
    <title>Web BLE</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }
        
        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>


    <!-- Custom styles for this template -->
    <link href="cover.css" rel="stylesheet">
</head>

<body class="d-flex h-100 text-center text-white bg-dark">
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
        <header class="mb-auto">
            <div>
                <h3 class="float-md-start mb-0">Web BLE Example</h3>
                <nav class="nav nav-masthead justify-content-center float-md-end">
                    <a class="nav-link active" aria-current="page" href="#">Main</a>
                </nav>
            </div>
            <script>
                var ChromeSamples = {
                    log: function() {
                        var line = Array.prototype.slice.call(arguments).map(function(argument) {
                            return typeof argument === 'string' ? argument : JSON.stringify(argument);
                        }).join(' ');

                        document.querySelector('#log').textContent += line + '\n';
                    },

                    clearLog: function() {
                        document.querySelector('#log').textContent = '';
                    },

                    setStatus: function(status) {
                        document.querySelector('#status').textContent = status;
                    },

                    setContent: function(newContent) {
                        var content = document.querySelector('#content');
                        while (content.hasChildNodes()) {
                            content.removeChild(content.lastChild);
                        }
                        content.appendChild(newContent);
                    }
                };
            </script>
        </header>

        <main class="px-3">
            <h1>Main</h1>
            <p class="lead">this page will be base for demo BLE samples</p>
            <p class="lead">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <button onclick="onRequestBluetoothDeviceButtonClick()" class="btn btn-sm btn-primary">getdevice</button>
                                <button onclick="onButtonClick()" class="btn btn-sm btn-primary">Scan Devices</button>
                            </div>
                        </div>
                        <div id="output" class="output">
                            <div id="content"></div>
                            <div id="status"></div>
                            <pre id="log"></pre>
                        </div>
                        <div class="col">
                            <div class="input-group input-group-sm mb-3">
                                <input type="text" class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
                            </div>
                        </div>
                    </div>
                </div>
            </p>

            <form>
                <label for="allAdvertisements">All Advertisements</label>
                <input id="allAdvertisements" type="checkbox">
                <input id="name" type="text" size=17 placeholder="Device Name">
                <input id="namePrefix" type="text" size=17 placeholder="Device Name Prefix">
                <button>Scan for Bluetooth Advertisements</button>
            </form>

            <h3>Live Output</h3>
            <div id="output" class="output">
                <div id="content">{{ include.initial_output_content }}</div>
                <div id="status"></div>
                <pre id="log"></pre>
            </div>
        </main>

        <footer class="mt-auto text-white-50">
            <p><a href="https://googlechrome.github.io/samples/web-bluetooth/index.html" class="text-white">Web BLE</a>, by <a href="https://github.com/googlechrome/samples/tree/gh-pages/web-bluetooth" class="text-white">googlechrome on Github</a>.</p>
        </footer>
    </div>
</body>
<script src="getdevices.js"></script>
<script src="scanadvt.js"></script>

<script>
    document.querySelector('form').addEventListener('submit', function(event) {
        event.stopPropagation();
        event.preventDefault();

        if (isWebBluetoothEnabled()) {
            ChromeSamples.clearLog();
            onButtonClick();
        }
    });
</script>


</html>